<%= render 'shared/header' %>
<div class="container">
  <div class="search-container mt-5">
    <%= form_tag('/musics', method: :get, class: "form-inline row mr-3") do %>
      <div class="col-2 text-center">
        <%= link_to root_path do %>
          <%= image_tag '/ringle.jpeg', style: "width: 60%;" %>
        <% end %>
      </div>
      <div class="col-5 d-flex align-items-center flex-nowrap">
        <%= text_field_tag :music_search, "", class: "form-control no-border-radius search-field" %>
        <button class="btn btn-primary no-border-radius" type="submit"><i class="fas fa-search"></i></button>
      </div>
      <div class="col-2"></div>
    <% end %>
  </div>
  <ul class="nav nav-tabs mt-5" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active ringle-color" id="accuracy-tab" data-bs-toggle="tab" data-bs-target="#accuracy" type="button" role="tab" aria-selected="true">정확도순</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link ringle-color" id="popular-tab" data-bs-toggle="tab" data-bs-target="#popular" type="button" role="tab" aria-selected="false">인기순</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link ringle-color" id="new-tab" data-bs-toggle="tab" data-bs-target="#new" type="button" role="tab" aria-selected="false">최신순</button>
    </li>
  </ul>
  <div class="tab-content">
    <div class="tab-pane fade show active" id="accuracy" role="tabpanel" aria-labelledby="accuracy-tab">
      <%= render 'musics/result', musics: @musics, sort_condition: 'accuracy' %>
    </div>
    <div class="tab-pane fade" id="popular" role="tabpanel" aria-labelledby="popular-tab">
      <%= render 'musics/result', musics: @popular_musics, sort_condition: 'popular' %>
    </div>
    <div class="tab-pane fade" id="new" role="tabpanel" aria-labelledby="new-tab">
      <%= render 'musics/result', musics: @new_musics, sort_condition: 'new' %>
    </div>
  </div>
</div>
